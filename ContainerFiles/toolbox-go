FROM quay.io/fedora/fedora-toolbox:42

LABEL com.github.containers.toolbox="true" \
      usage="This image is meant to be used with the toolbox or distrobox command" \
      summary="An example ContainerFile to demonstrate multiple image builds." \
      maintainer="faeizmahrus@outlook.com"

# Copy the setup scripts and package list
COPY ../scripts/toolbox-go.sh /
COPY ../scripts/distrobox-shims.sh /
COPY ../packages/toolbox-go.packages /

# Run the setup scripts
RUN chmod +x toolbox-go.sh distrobox-shims.sh && /toolbox-go.sh
RUN rm /toolbox-go.sh /distrobox-shims.sh /toolbox-go.packages

# install bazelisk
    RUN curl -LO "https://github.com/bazelbuild/bazelisk/releases/download/v1.26.0/bazelisk-linux-amd64" && \
        mv bazelisk-linux-amd64 /usr/local/bin/bazel && \
        chmod +x /usr/local/bin/bazel
